<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Merry Christmas ðŸ’œ</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Indie+Flower&family=Swanky+and+Moo+Moo&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        margin: 0;
        min-height: 100vh;
        font-family: "Indie Flower", cursive;
        background: linear-gradient(135deg, #1a0033, #4a148c, #9c27b0);
        display: flex;
        justify-content: center;
        align-items: center;
        color: #fff;
        overflow: hidden;
      }

      /* Snow */
      .snow {
        position: absolute;
        width: 100%;
        height: 100%;
        background-image: radial-gradient(white 1px, transparent 1px);
        background-size: 40px 40px;
        animation: snow 25s linear infinite;
        opacity: 0.35;
        pointer-events: none;
      }

      @keyframes snow {
        from {
          background-position: 0 0;
        }
        to {
          background-position: 0 1000px;
        }
      }

      .container {
        text-align: center;
        padding: 20px;
        z-index: 2;
      }

      h1 {
        margin-bottom: 20px;
        letter-spacing: 2px;
      }

      /* Envelope */
      .envelope-wrapper {
        width: 560px;
        height: 380px;
        margin: auto;
        cursor: pointer;
        transition: transform 0.4s ease;
      }

      .envelope-wrapper:hover {
        transform: scale(1.05);
      }

      .envelope {
        width: 100%;
        height: 100%;
        background: #7e57c2;
        position: relative;
        border-radius: 6px;
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
        overflow: hidden;
      }

      .envelope::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        border-left: 280px solid transparent;
        border-right: 280px solid transparent;
        border-top: 200px solid #9575cd;
        transform-origin: top;
        transition: transform 0.7s ease;
      }

      .envelope.open::before {
        transform: rotateX(180deg);
      }

      /* Letter */
      .letter {
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        background: #f3e5f5;
        color: #4a148c;
        padding: 25px;
        border-radius: 8px;
        opacity: 0;
        transition: all 1s ease;
        line-height: 1.6;
      }

      .envelope.open .letter {
        top: -35px;
        opacity: 1;
      }

      .signature {
        margin-top: 20px;
        font-weight: 600;
      }

      /* Mobile */
      @media (max-width: 600px) {
        .envelope-wrapper {
          width: 220px;
          height: 160px;
        }

        .envelope.open .letter {
          top: -280px;
        }

        .envelope::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          border-left: 110px solid transparent;
          border-right: 110px solid transparent;
          border-top: 100px solid #9575cd;
          transform-origin: top;
          transition: transform 0.7s ease;
        }

        .container {
          text-align: center;
          padding: 10px;
          z-index: 2;
        }
      }

      /* Modal */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: 10;
        justify-content: center;
        align-items: center;
      }

      .modal-content {
        background: #f3e5f5;
        color: #4a148c;
        padding: 25px;
        border-radius: 8px;
        max-width: 90%;
        max-height: 80%;
        overflow-y: auto;
        position: relative;
        line-height: 1.6;
        text-align: center;
      }

      .close-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 24px;
        cursor: pointer;
        color: #4a148c;
      }
    </style>
  </head>

  <body>
    <div class="snow"></div>

    <div class="container">
      <h1>ðŸŽ„ Click the Envelope ðŸŽ„</h1>

      <div class="envelope-wrapper" onclick="openEnvelope()">
        <div class="envelope" id="envelope">
          <div class="letter">
            <p>This Christmas, I thank the stars I see,</p>
            <p>For the day I met someone as rare as you.</p>
            <p>Your beauty shines, both heart and soul,</p>
            <p>A gentle light that makes me whole.</p>

            <p>So Merry Christmas, my wish so true,</p>
            <p>Is wrapped with thanks and meant for you.</p>
            <p>For who you are, for all you do,</p>
            <p>Iâ€™m gratefulâ€”today, and all year through.</p>

            <p class="signature">ðŸ’œ Merry Christmas, Melher Marie ðŸ’œ</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal">
      <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <p>This Christmas, I thank the stars I see,</p>
        <p>For the day I met someone as rare as you.</p>
        <p>Your beauty shines, both heart and soul,</p>
        <p>A gentle light that makes me whole.</p>

        <p>So Merry Christmas, my wish so true,</p>
        <p>Is wrapped with thanks and meant for you.</p>
        <p>For who you are, for all you do,</p>
        <p>Iâ€™m gratefulâ€”today, and all year through.</p>

        <p class="signature">ðŸ’œ Merry Christmas, Melher Marie ðŸ’œ</p>
      </div>
    </div>

    <!-- Background Music -->
    <audio id="bgMusic" loop autoplay>
      <source
        src="Jingle Bell Rock (Instrumental Version).mp3"
        type="audio/mpeg"
      />
    </audio>

    <script>
      let opened = false;

      function openEnvelope() {
        const envelope = document.getElementById("envelope");
        const music = document.getElementById("bgMusic");
        const modal = document.getElementById("modal");

        if (window.innerWidth <= 600) {
          // Mobile: Show modal
          modal.style.display = "flex";
        } else {
          // Desktop: Open envelope
          envelope.classList.toggle("open");
        }

        if (!opened) {
          music.volume = 0.4;
          music.play();
          opened = true;
        }
      }

      function closeModal() {
        const modal = document.getElementById("modal");
        modal.style.display = "none";
      }

      // Close modal when clicking outside the content
      window.onclick = function (event) {
        const modal = document.getElementById("modal");
        if (event.target === modal) {
          modal.style.display = "none";
        }
      };
    </script>
  </body>
</html>
